@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));

html {
	transition: background 0.5s ease;
}

button {
	cursor: pointer;
	transition: transform 0.15s ease-in-out;
}

button:active {
	transform: scale(0.95);
}

@media (min-width: 640px) {
	button:hover {
		transform: scale(1.05);
	}
}

@theme {
	--animate-waves: waves 2s steps(1, end) infinite;
	--animate-bg: bg-frames 0.75s infinite;
	--animate-blink: blink 1.2s steps(1, end) infinite;
}

@keyframes waves {
	0% {
		opacity: 0;
	}
	30% {
		opacity: 1;
	}
	75% {
		opacity: 0;
	}
}

@keyframes blink {
	0% {
		opacity: 0;
	}
	50% {
		opacity: 1;
	}
}

/* Disable default view transition animations */
::view-transition-old(root),
::view-transition-new(root) {
	animation: none;
	mix-blend-mode: normal;
}

@keyframes wipe-left-right {
	from {
		-webkit-clip-path: inset(0 100% 0 0);
		clip-path: inset(0 100% 0 0);
	}
	to {
		-webkit-clip-path: inset(0 0 0 0);
		clip-path: inset(0 0 0 0);
	}
}

@keyframes wipe-right-left {
	from {
		-webkit-clip-path: inset(0 0 0 100%);
		clip-path: inset(0 0 0 100%);
	}
	to {
		-webkit-clip-path: inset(0 0 0 0);
		clip-path: inset(0 0 0 0);
	}
}

html.light.theme-transition::view-transition-new(root) {
	animation: wipe-left-right 0.75s cubic-bezier(0.22, 1, 0.36, 1);
}

html.dark.theme-transition::view-transition-new(root) {
	animation: wipe-right-left 0.75s cubic-bezier(0.22, 1, 0.36, 1);
}

.dark img:not(.ignore-invert) {
	-webkit-filter: invert(1);
	filter: invert(1);
}

img {
	user-select: none;
}
